# ============================================================
# Multi-Platform Prediction Market Arb Bot v2.0 — Config
# ============================================================
# ---------- Wallet / Auth ----------
wallet:
  private_key: ""
  funder_address: ""
  signature_type: 1
# ---------- Execution Mode ----------
execution:
  mode: "dry_run"            # "dry_run" or "live"
  order_type: "limit"
  post_only: true
# ---------- Bankroll & Risk ----------
bankroll:
  total_usdc: 39.0           # Global maximum to deploy
  allocations:               # Dedicated sub-budgets to prevent double-spending
    bond_spreader: 15.0      # Sub-budget for Bond Spread Automator
    weather_arb: 15.0        # Sub-budget for Weather Arbitrage
    poly_lp: 9.0             # Sub-budget for Market Making LP
  max_per_opportunity: 10.0
  max_open_positions: 10
  min_profit_pct: 0.1        # Lowered: catch more signals across all modules
  fee_buffer_cents: 0.5
# ---------- Scanner ----------
scanner:
  interval_seconds: 60       # 60 seconds (fetches from multiple platforms now)
  gamma_api_url: "https://gamma-api.polymarket.com"
  clob_api_url: "https://clob.polymarket.com"
  markets_per_page: 100
  max_markets: 2000
  prioritize_new: true
  min_liquidity: 10.0
  max_liquidity: 10000000.0
  skip_closed: true
  orderbook_depth: 5
# ---------- Cross-Platform Arbitrage Settings ----------
cross_platform:
  min_profit_pct: 1.0        # Min ROI % for cross-platform arb alerts
  similarity_threshold: 0.60 # Title match threshold (0-1, lower = more matches)
# ---------- High-Probability Bond Settings ----------
bonds:
  min_price: 0.93            # Minimum price (93¢+) to consider as bond
  min_roi_pct: 0.5           # Min ROI % for bond alerts
# ---------- Intra-Market Mispricing ----------
mispricing:
  max_sum: 0.995             # Raised: was 0.98 — catches more YES+NO mispricing
# ---------- Telegram Alerts ----------
telegram:
  enabled: true
  bot_name: "PolyQuick"    # Display name in welcome messages/alerts
  bot_token: ""
  chat_id: ""
  alert_on_opportunity: true
  alert_on_execution: true
  alert_on_error: true
  min_alert_profit_pct: 0.1  # Lowered: catch more opportunities
# ---------- Whale Tracking ----------
whales:
  enabled: true
  min_trade_size: 500        # Lowered: Min USD size to consider "whale"
  convergence_count: 2       # Lowered: 2 whales (was 3) — much more common
  convergence_window_min: 120 # Widened window to 2 hours
  lookback_minutes: 240      # Look back 4 hours
# ---------- New Market Sniper ----------
new_markets:
  enabled: true
  cache_file: "known_markets.json"
# ---------- Edge Scoring (v3.0) ----------
edge_scoring:
  min_score: 0               # 0 = show all, 70 = strict filter (recommended for auto-execution)
  weights:
    profit: 0.40
    liquidity: 0.30
    time: 0.15
    confidence: 0.15
# ---------- Elite Edge Modules (v3.0) ----------
anti_hype:
  enabled: true
  min_delta: 8               # Lowered: was 15 — 8% gap is still meaningful
  max_price: 0.90            # Raised: catches more hype markets
  min_volume: 1000           # Lowered: was 5000
data_arb:
  enabled: true
  min_delta: 5               # Lowered: was 10 — 5% data edge is significant
longshot:
  enabled: true
  min_payoff: 2              # Lowered: was 3 — 2x return still worthwhile
  max_price: 0.40            # Raised: was 0.30
  min_price: 0.02            # Lowered slightly
  min_volume: 200            # Lowered: was 500
bond_compound:
  min_price: 0.95            # Min bond price for compounding calc
  min_liq: 5000              # Min liquidity
  reinvest_rate: 0.80        # 80% profit reinvestment
# ---------- Global Dedup (v3.0) ----------
dedup:
  enabled: true
  cooldown_seconds: 1800     # 30 minutes per user per opportunity hash
# ---------- Phase B: Speed Listener ----------
speed_listener:
  enabled: true
  poll_interval: 10           # trade polling every 10s
  new_market_poll_interval: 8  # new market check every 8s (sub-10s detection)
  min_trade_value: 500        # USD minimum for fast alerts
# ---------- Phase B: Sentiment Engine ----------
sentiment:
  enabled: true
  newsapi_key: ""             # Free tier: 100 req/day (optional)
  refresh_interval: 600       # 10 minutes
# ---------- Phase B: Resolution Intel ----------
resolution_intel:
  enabled: true
# ---------- Phase B: User Feedback ----------
feedback:
  enabled: true
  file: "feedback.json"
# ---------- Phase B Sprint 5: Micro Arb ----------
micro_arb:
  enabled: true
  max_hours: 48              # Raised: was 24h
  min_gap_pct: 1.5           # Lowered: was 3.0
  max_liquidity: 50000       # Raised: was 15000
  min_volume: 100            # Lowered: was 500
# ---------- Phase B Sprint 5: Spread Arb ----------
spread_arb:
  enabled: true
  min_spread_pct: 2.0        # Lowered: was 5.0 — 2% gap still profitable
  min_volume: 500            # Lowered: was 1000
  similarity_threshold: 0.65 # Loosened: was 0.70
# ---------- Phase B Sprint 5: Manifold ----------
manifold:
  enabled: true
  limit: 200
  similarity_threshold: 0.55 # Loosened: was 0.65
  min_delta_pct: 4.0         # Lowered: was 8.0
# ---------- Phase B Sprint 5: Portfolio ----------
portfolio:
  enabled: true
# ---------- LP Reward Farming (Admin Only) ----------
lp_farming:
  enabled: true
  lp_mode: "dry_run"           # "dry_run" | "live" — ALWAYS start dry_run
  max_lp_capital: 300.0        # Max USDC deployed at once
  max_position_one_side: 150.0 # Max $ value on YES or NO side
  max_loss_per_session: 20.0   # Auto-kill if unrealized loss exceeds this
  pre_resolution_exit_hours: 2 # Cancel all orders X hours before resolution
  rebalance_interval: 30       # Seconds between monitoring ticks
  midpoint_move_threshold: 0.01 # 1¢ move triggers order adjustment
  max_spread: 0.04             # Never place outside ±4¢ of midpoint
  order_size: 50.0             # Default USDC per order
  state_file: "lp_state.json"  # State persistence file
  # --- Crash Protection ---
  crash_threshold: 0.08        # 8¢ drop from fill price → activate trailing sell
  trail_step: 0.005            # 0.5¢ trailing step (follow price down with sell)
  emergency_close_pct: 0.15    # 15% drop from fill price → emergency close
  # --- API Failure ---
  api_max_retries: 5           # Retries before cancel-all safe mode
  api_retry_backoff: 10        # Seconds between retries (multiplied by attempt #)

# ---------- Bond Spread Automator ----------
bond_spreader:
  enabled: true
  mode: "dry_run"
  base_amount: 1.00
  max_total_deployed: 100.00
  max_per_category_pct: 20
  min_liquidity: 5000
  min_volume: 1000
  min_price: 0.93
  max_resolution_days: 7
  prefer_resolution_hours: 24
  reinvest_rate: 0.80
  adaptive_sizing: true
  adaptive_min_samples: 50
  limit_order_offset: 0.005
  limit_order_timeout_minutes: 15
# ---------- Weather Arbitrage ----------
weather_arb:
  enabled: true
  mode: "SAFE"
  min_edge_safe: 0.25
  min_edge_neutral: 0.15
  min_edge_aggressive: 0.10
  max_daily_deploy_pct: 0.20
  dry_run: true
  cities: ["NYC", "Chicago", "London", "Miami", "Atlanta"]
  climate_allocation_pct: 0.12

# ---------- Logging ----------
logging:
  level: "INFO"
  file: "arb_bot_v2.log"
  console: true
